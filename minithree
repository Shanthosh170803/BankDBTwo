===EditQuestionServlet.java===
package quizportal.servlet.admin;
 
import quizportal.dao.QuestionDAO;
import quizportal.model.Question;
 
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.*;
import java.io.IOException;
 
@WebServlet("/editQuestion")
public class EditQuestionServlet extends HttpServlet {
 
    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
 
        String idStr = request.getParameter("id");
        String quizIdStr = request.getParameter("quizId");
 
        if (idStr == null || quizIdStr == null) {
            response.getWriter().println("Missing question ID or quiz ID.");
            return;
        }
 
        int id = Integer.parseInt(idStr);
        int quizId = Integer.parseInt(quizIdStr);
 
        try {
            QuestionDAO questionDAO = new QuestionDAO();
            Question question = questionDAO.getQuestionById(id);
 
            request.setAttribute("question", question);
            request.setAttribute("quizId", quizId);
 
            request.getRequestDispatcher("admin/editQuestion.jsp").forward(request, response);
 
        } catch (Exception e) {
            e.printStackTrace();
            response.getWriter().println("Error loading question: " + e.getMessage());
        }
    }
 
    @Override
    protected void doPost(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
 
        int id = Integer.parseInt(request.getParameter("id"));
        int quizId = Integer.parseInt(request.getParameter("quizId"));
 
        String questionText = request.getParameter("questionText");
        String optionA = request.getParameter("optionA");
        String optionB = request.getParameter("optionB");
        String optionC = request.getParameter("optionC");
        String optionD = request.getParameter("optionD");
        String correctOption = request.getParameter("correctOption");
 
        try {
            Question question = new Question();
            question.setId(id);
            question.setQuizId(quizId);
            question.setQuestionText(questionText);
            question.setOptionA(optionA);
            question.setOptionB(optionB);
            question.setOptionC(optionC);
            question.setOptionD(optionD);
            question.setCorrectOption(correctOption);
 
            QuestionDAO questionDAO = new QuestionDAO();
            boolean updated = questionDAO.updateQuestion(question);
 
            if (updated) {
                response.sendRedirect("listQuestions?quizId=" + quizId);
            } else {
                response.getWriter().println("Failed to update question.");
            }
 
        } catch (Exception e) {
            e.printStackTrace();
            response.getWriter().println("Error updating question: " + e.getMessage());
        }
    }
}

===editQuestion.jsp===
<%@ page import="quizportal.model.Question" %>
 
<%
    Question q = (Question) request.getAttribute("question");
    int quizId = (int) request.getAttribute("quizId");
%>
 
<!DOCTYPE html>
<html>
<head>
    <title>Edit Question</title>
</head>
<body>
 
<h2>Edit Question</h2>
 
<form action="admin/editQuestion" method="post">
 
    <input type="hidden" name="id" value="<%= q.getId() %>">
    <input type="hidden" name="quizId" value="<%= quizId %>">
 
    Question:<br>
    <input type="text" name="questionText" value="<%= q.getQuestionText() %>" required><br><br>
 
    Option A:<br>
    <input type="text" name="optionA" value="<%= q.getOptionA() %>" required><br><br>
 
    Option B:<br>
    <input type="text" name="optionB" value="<%= q.getOptionB() %>" required><br><br>
 
    Option C:<br>
    <input type="text" name="optionC" value="<%= q.getOptionC() %>" required><br><br>
 
    Option D:<br>
    <input type="text" name="optionD" value="<%= q.getOptionD() %>" required><br><br>
 
    Correct Option:<br>
    <select name="correctOption" required>
        <option value="A" <%= q.getCorrectOption().equals("A") ? "selected" : "" %>>A</option>
        <option value="B" <%= q.getCorrectOption().equals("B") ? "selected" : "" %>>B</option>
        <option value="C" <%= q.getCorrectOption().equals("C") ? "selected" : "" %>>C</option>
        <option value="D" <%= q.getCorrectOption().equals("D") ? "selected" : "" %>>D</option>
    </select>
    <br><br>
 
    <button type="submit">Update Question</button>
</form>
 
<br>
<a href="listQuestions?quizId=<%=quizId%>">Back to Question List</a>
 
</body>
</html>

===listQuestion.jsp===
<%@ page import="java.util.List" %>
<%@ page import="quizportal.model.Question" %>
 
<%
    List<Question> questions = (List<Question>) request.getAttribute("questions");
	int quizId=Integer.parseInt(request.getParameter("quizId"));
%>
 
<!DOCTYPE html>
<html>
<head>
    <title>Questions List</title>
</head>
<body>
    <h2>Questions for Quiz ID: <%=quizId%></h2>
 
    <a href="admin/addQuestion.jsp?quizId=<%=quizId%>">Add New Question</a><br><br>
 
    <table border="1" cellpadding="10">
        <tr>
            <th>ID</th>
            <th>Question</th>
            <th>Option A</th>
            <th>Option B</th>
            <th>Option C</th>
            <th>Option D</th>
            <th>Correct</th>
            <th>Actions</th>
        </tr>
 
        <%
            if (questions != null) {
                for (Question q : questions) {
        %>
        <tr>
            <td><%=q.getId()%></td>
            <td><%=q.getQuestionText()%></td>
            <td><%=q.getOptionA()%></td>
            <td><%=q.getOptionB()%></td>
            <td><%=q.getOptionC()%></td>
            <td><%=q.getOptionD()%></td>
            <td><%=q.getCorrectOption()%></td>
            <td>
                <a href="editQuestion?id=<%=q.getId()%>&quizId=<%=quizId%>">Edit</a> |
                <a href="deleteQuestion?id=<%=q.getId()%>&quizId=<%=quizId%>" onclick="return confirm('Delete this question?');">Delete</a>
            </td>
        </tr>
        <%
                }
            }
        %>
    </table>
 
    <br>
    <a href="listQuizzes">Back to Quiz List</a>
</body>
</html>
